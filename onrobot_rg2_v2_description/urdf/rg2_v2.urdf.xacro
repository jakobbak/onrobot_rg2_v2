<?xml version="1.0" ?>
<robot name="rg2_v2" xmlns:xacro="http://www.ros.org/wiki/xacro">

    <xacro:macro name="rg2_v2" params="prefix parent *origin">

        <xacro:include filename="$(find onrobot_rg2_v2_description)/urdf/materials.xacro" />
        <xacro:include filename="$(find onrobot_rg2_v2_description)/urdf/onrobot_rg2_v2.trans" />
        <xacro:include filename="$(find onrobot_rg2_v2_description)/urdf/onrobot_rg2_v2.gazebo" />

        <link name="${prefix}_base_link">
        <inertial>
            <origin rpy="0 0 0" xyz="0.018484801879113732 0.0002666270895124844 0.0005429539192523968"/>
            <mass value="0.700133355909666"/>
            <inertia ixx="0.000556" ixy="1e-06" ixz="4e-06" iyy="0.000374" iyz="0.0" izz="0.000525"/>
        </inertial>
        <visual>
            <origin rpy="0 0 0" xyz="0 0 0"/>
            <geometry>
            <mesh filename="package://onrobot_rg2_v2_description/meshes/base_link.stl" scale="0.001 0.001 0.001"/>
            </geometry>
            <material name="silver_default"/>
        </visual>
        <collision>
            <origin rpy="0 0 0" xyz="0 0 0"/>
            <geometry>
            <mesh filename="package://onrobot_rg2_v2_description/meshes/base_link.stl" scale="0.001 0.001 0.001"/>
            </geometry>
        </collision>
        </link>

        <link name="${prefix}_body_link">
        <inertial>
            <origin rpy="0 0 0" xyz="0.0335480392891447 8.79646204020917e-06 4.6893244245206084e-05"/>
            <mass value="1.445972069811102"/>
            <inertia ixx="0.000505" ixy="-1e-06" ixz="2e-06" iyy="0.001511" iyz="-0.0" izz="0.001676"/>
        </inertial>
        <visual>
            <origin rpy="0 0 0" xyz="-0.0468 -0.0 0.0"/>
            <geometry>
            <mesh filename="package://onrobot_rg2_v2_description/meshes/body_link_1.stl" scale="0.001 0.001 0.001"/>
            </geometry>
            <material name="silver_default"/>
        </visual>
        <collision>
            <origin rpy="0 0 0" xyz="-0.0468 -0.0 0.0"/>
            <geometry>
            <mesh filename="package://onrobot_rg2_v2_description/meshes/body_link_1.stl" scale="0.001 0.001 0.001"/>
            </geometry>
        </collision>
        </link>

        <link name="${prefix}_finger1_link">
        <inertial>
            <origin rpy="0 0 0" xyz="-0.1228 0.017 0.0"/>
            <mass value="0.0"/>
            <inertia ixx="0.0" ixy="0.0" ixz="0.0" iyy="0.0" iyz="0.0" izz="0.0"/>
        </inertial>
        <visual>
            <origin rpy="0 0 0" xyz="-0.1228 0.017 0.0"/>
            <geometry>
            <mesh filename="package://onrobot_rg2_v2_description/meshes/finger1_link_1.stl" scale="0.001 0.001 0.001"/>
            </geometry>
            <material name="silver_default"/>
        </visual>
        <collision>
            <origin rpy="0 0 0" xyz="-0.1228 0.017 0.0"/>
            <geometry>
            <mesh filename="package://onrobot_rg2_v2_description/meshes/finger1_link_1.stl" scale="0.001 0.001 0.001"/>
            </geometry>
        </collision>
        </link>

        <link name="${prefix}_finger1_inner_knuckle_link">
        <inertial>
            <origin rpy="0 0 0" xyz="0.02153782085119671 0.000511825858720256 -6.355829706074682e-06"/>
            <mass value="0.029893327924651044"/>
            <inertia ixx="2e-06" ixy="-0.0" ixz="0.0" iyy="1.3e-05" iyz="0.0" izz="1.2e-05"/>
        </inertial>
        <visual>
            <origin rpy="0 0 0" xyz="-0.1393 0.0075 0.0"/>
            <geometry>
            <mesh filename="package://onrobot_rg2_v2_description/meshes/finger1_inner_knuckle_link_1.stl" scale="0.001 0.001 0.001"/>
            </geometry>
            <material name="silver_default"/>
        </visual>
        <collision>
            <origin rpy="0 0 0" xyz="-0.1393 0.0075 0.0"/>
            <geometry>
            <mesh filename="package://onrobot_rg2_v2_description/meshes/finger1_inner_knuckle_link_1.stl" scale="0.001 0.001 0.001"/>
            </geometry>
        </collision>
        </link>

        <link name="${prefix}_finger1_tip_link">
        <inertial>
            <origin rpy="0 0 0" xyz="0.02875484074660989 0.011139968794823504 1.5264873388075844e-10"/>
            <mass value="0.06346444954006894"/>
            <inertia ixx="3e-06" ixy="-4e-06" ixz="0.0" iyy="1.5e-05" iyz="-0.0" izz="1.6e-05"/>
        </inertial>
        <visual>
            <origin rpy="0 0 0" xyz="-0.1778 0.017 0.0"/>
            <geometry>
            <mesh filename="package://onrobot_rg2_v2_description/meshes/finger1_tip_link_1.stl" scale="0.001 0.001 0.001"/>
            </geometry>
            <material name="silver_default"/>
        </visual>
        <collision>
            <origin rpy="0 0 0" xyz="-0.1778 0.017 0.0"/>
            <geometry>
            <mesh filename="package://onrobot_rg2_v2_description/meshes/finger1_tip_link_1.stl" scale="0.001 0.001 0.001"/>
            </geometry>
        </collision>
        </link>

        <link name="${prefix}_finger2_link">
        <inertial>
            <origin rpy="0 0 0" xyz="-0.1228 -0.017 0.0"/>
            <mass value="0.0"/>
            <inertia ixx="0.0" ixy="0.0" ixz="0.0" iyy="0.0" iyz="0.0" izz="0.0"/>
        </inertial>
        <visual>
            <origin rpy="0 0 0" xyz="-0.1228 -0.017 0.0"/>
            <geometry>
            <mesh filename="package://onrobot_rg2_v2_description/meshes/finger2_link_1.stl" scale="0.001 0.001 0.001"/>
            </geometry>
            <material name="silver_default"/>
        </visual>
        <collision>
            <origin rpy="0 0 0" xyz="-0.1228 -0.017 0.0"/>
            <geometry>
            <mesh filename="package://onrobot_rg2_v2_description/meshes/finger2_link_1.stl" scale="0.001 0.001 0.001"/>
            </geometry>
        </collision>
        </link>

        <link name="${prefix}_finger2_inner_knuckle_link">
        <inertial>
            <origin rpy="0 0 0" xyz="0.02153782085119685 -0.0005118258586924648 6.355819738430073e-06"/>
            <mass value="0.029893327924651044"/>
            <inertia ixx="2e-06" ixy="0.0" ixz="-0.0" iyy="1.3e-05" iyz="0.0" izz="1.2e-05"/>
        </inertial>
        <visual>
            <origin rpy="0 0 0" xyz="-0.1393 -0.0075 0.0"/>
            <geometry>
            <mesh filename="package://onrobot_rg2_v2_description/meshes/finger2_inner_knuckle_link_1.stl" scale="0.001 0.001 0.001"/>
            </geometry>
            <material name="silver_default"/>
        </visual>
        <collision>
            <origin rpy="0 0 0" xyz="-0.1393 -0.0075 0.0"/>
            <geometry>
            <mesh filename="package://onrobot_rg2_v2_description/meshes/finger2_inner_knuckle_link_1.stl" scale="0.001 0.001 0.001"/>
            </geometry>
        </collision>
        </link>

        <link name="${prefix}_finger2_tip_link">
        <inertial>
            <origin rpy="0 0 0" xyz="0.028754840746610305 -0.011139968794797603 -1.6261614635547747e-10"/>
            <mass value="0.06346444954006894"/>
            <inertia ixx="3e-06" ixy="4e-06" ixz="-0.0" iyy="1.5e-05" iyz="-0.0" izz="1.6e-05"/>
        </inertial>
        <visual>
            <origin rpy="0 0 0" xyz="-0.1778 -0.017 0.0"/>
            <geometry>
            <mesh filename="package://onrobot_rg2_v2_description/meshes/finger2_tip_link_1.stl" scale="0.001 0.001 0.001"/>
            </geometry>
            <material name="silver_default"/>
        </visual>
        <collision>
            <origin rpy="0 0 0" xyz="-0.1778 -0.017 0.0"/>
            <geometry>
            <mesh filename="package://onrobot_rg2_v2_description/meshes/finger2_tip_link_1.stl" scale="0.001 0.001 0.001"/>
            </geometry>
        </collision>
        </link>

        <joint name="${prefix}_wrist_joint" type="revolute">
        <origin rpy="0 0 0" xyz="0.0468 0.0 0.0"/>
        <parent link="${prefix}_base_link"/>
        <child link="${prefix}_body_link"/>
        <axis xyz="0.0 -1.0 0.0"/>
        <limit effort="100" lower="-0.785398" upper="0.785398" velocity="100"/>
        </joint>

        <joint name="${prefix}_finger1_joint" type="revolute">
        <origin rpy="0 0 0" xyz="0.076 -0.017 0.0"/>
        <parent link="${prefix}_body_link"/>
        <child link="${prefix}_finger1_link"/>
        <axis xyz="0.0 -0.0 -1.0"/>
        <limit effort="100" lower="0.0" upper="1.308997" velocity="100"/>
        </joint>

        <joint name="${prefix}_passive_finger1_inner_knuckle_joint" type="continuous">
        <origin rpy="0 0 0" xyz="0.0925 -0.0075 0.0"/>
        <parent link="${prefix}_body_link"/>
        <child link="${prefix}_finger1_inner_knuckle_link"/>
        <axis xyz="0.0 -0.0 -1.0"/>
        <limit lower="-3.14" upper="3.14" effort="0.1" velocity="100" />
        <mimic joint="${prefix}_finger1_joint" multiplier="1"/>
        </joint>

        <joint name="${prefix}_passive_finger1_tip_joint" type="continuous">
        <origin rpy="0 0 0" xyz="0.055 0.0 0.0"/>
        <parent link="${prefix}_finger1_link"/>
        <child link="${prefix}_finger1_tip_link"/>
        <axis xyz="-0.0 0.0 -1.0"/>
        <limit lower="-3.14" upper="3.14" effort="0.1" velocity="100" />
        <mimic joint="${prefix}_finger1_joint" multiplier="-1"/></joint>

        <joint name="${prefix}_passive_finger2_joint" type="continuous">
        <origin rpy="0 0 0" xyz="0.076 0.017 0.0"/>
        <parent link="${prefix}_body_link"/>
        <child link="${prefix}_finger2_link"/>
        <axis xyz="-0.0 0.0 1.0"/>
        <limit lower="-3.14" upper="3.14" effort="0.1" velocity="100" />
        <mimic joint="${prefix}_finger1_joint" multiplier="1"/>
        </joint>

        <joint name="${prefix}_passive_finger2_innner_knuckle_joint" type="continuous">
        <origin rpy="0 0 0" xyz="0.0925 0.0075 0.0"/>
        <parent link="${prefix}_body_link"/>
        <child link="${prefix}_finger2_inner_knuckle_link"/>
        <axis xyz="-0.0 0.0 1.0"/>
        <limit lower="-3.14" upper="3.14" effort="0.1" velocity="100" />
        <mimic joint="${prefix}_passive_finger2_joint" multiplier="1"/>
        </joint>

        <joint name="${prefix}_passive_finger2_tip_joint" type="continuous">
        <origin rpy="0 0 0" xyz="0.055 0.0 0.0"/>
        <parent link="${prefix}_finger2_link"/>
        <child link="${prefix}_finger2_tip_link"/>
        <axis xyz="-0.0 -0.0 1.0"/>
        <limit lower="-3.14" upper="3.14" effort="0.1" velocity="100" />
        <mimic joint="${prefix}_passive_finger2_joint" multiplier="-1"/>
        </joint>

        <joint name="${prefix}_base_joint" type="fixed">
            <parent link="${parent}"/>
            <child link="${prefix}_base_link"/>
            <xacro:insert_block name="origin"/>
        </joint>

    </xacro:macro>
</robot>